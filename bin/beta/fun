#!/bin/bash
# fuck-u-netgear:
#
# A script needed because Netgear routers block port 22 when using
# the loopback interface.

SSID=$(networksetup -getairportnetwork en0 2>/dev/null | awk -F': ' '{print $2}')

if [[ "$SSID" == "juli2018"* ]]; then
    sudo sed -i '' 's/^#192.168.1.3/192.168.1.3/' /etc/hosts
    echo "Home network; using internal local IP."
else
    sudo sed -i '' 's/^192.168.1.3/#192.168.1.3/' /etc/hosts
    echo "External network; using public IP."
fi
